---
import NavBar from "../../components/NavBar.astro";
import QuickLink from "../../components/QuickLink.astro";
import BlogPostLayout from "../../layouts/BlogPostLayout.astro";

export async function getStaticPaths() {
    const posts = await Astro.glob("../../content/**/*.md");

    return posts.map((post) => ({
        params: {
            slug: post.frontmatter.slug,
        },
        props: {
            post,
        },
    }));
}

const { Content, frontmatter} = Astro.props.post;
---

<BlogPostLayout title={frontmatter.title}>
    <NavBar />
    <main>
        <div class="center">
            <div class="metadata">
                <h1 style="font-size: 40px">{frontmatter.title}</h1>
                <p style="font-size: 14px">Published: {frontmatter.date} - {frontmatter.time} read</p>
                <hr style="margin-top: 10px;" />
            </div>

            <div class="content">
                <Content />
            </div>

            <div>
                <hr style="margin-top: 10px;" />
                <div class="blog-links">
                    <QuickLink
                        href="/"
                        src="/links/home.svg"
                        name="Home"
                        newtab={false}
                    />
                    <QuickLink
                        href="/blog"
                        src="/links/archive.svg"
                        name="All Blog Posts"
                        newtab={false}
                    />
                </div>
            </div>
        </div>
    </main>
</BlogPostLayout>

<style>


    main {
        display: flex;
        flex-wrap: wrap;

        gap: 20px;

        margin: auto;
        /* width: 960px; */

        line-height: 1.6;
    }

    .center {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin: auto;

        width: 100%;
        max-width: 650px;
    }

    .metadata * {
        margin: 0px;
    }

    .content h1,
    h2,
    h3 {
        line-height: 1.2;
    }

    .content {
        padding: 0 10px;
        font-size: 18px;
    }

    .blog-links {
        display: flex;
        flex-direction: row;
        justify-content: space-around;
    }



</style>
